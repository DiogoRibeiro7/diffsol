[pytest]
addopts = --strict-markers --maxfail=1 --durations=25 --cov=bindings/diffsol-pytorch/python/diffsol_pytorch --cov-report=term-missing
testpaths = bindings/diffsol-pytorch/tests
markers =
    unit: fast unit tests covering core functionality
    integration: end-to-end workflows spanning Rust/PyTorch boundaries
    gradient: analytical vs finite-difference gradient validation
    perf: performance and benchmark scenarios
    memory: long-running or leak-detection scenarios
    slow: backwards compatibility alias for long-running tests
